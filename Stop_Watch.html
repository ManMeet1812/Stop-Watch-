<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop_Watch</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section>
        <h1>Stop Watch<i class="fas fa-stopwatch"></i></h1>
        <div class="container">
            <p id="countDown">0</p>
            <div class="buttons">
                <button class="start_btn">Start</button>
                <button class="reset_btn">Reset</button>
                <button class="stop_btn">Stop</button>
                <button class="time_btn">getTime</button>
                <button class="clear_btn">clearTime</button>
            </div>
            <div class="resetValue"></div>
        </div>
    </section>

    <script>
        const countDownElement = document.getElementById("countDown");
        const resetValueElement = document.querySelector(".resetValue");
        let startCount = 0;
        let intervalId = null;


        // Function to start timer.
        const startTimer = () => {
            if (intervalId) {
            clearInterval(intervalId); // Clear any running interval
            }
            intervalId = setInterval(() =>{
                countDownElement.innerText = startCount++ ;
            }, 1000);
            
        };


        // Funtion to Stop the time and show the Stop time.
        const stopTimer = () => {
            if (intervalId) {
            clearInterval(intervalId);
            intervalId = null; // Reset intervalId after clearing it
            showStopValue(); // Show stop time when stopped
            }
            // clearInterval(intervalId);
            // showStopValue();
        };


        // Function to reset the timer.
        const resetTimer = () =>{
            if (intervalId) {
            clearInterval(intervalId);
            intervalId = null;  // Clear any running interval
            }
            startCount = 0;
            countDownElement.innerText = startCount;
            clearInterval(intervalId);
        }


        // Function to show stop value
        const showStopValue = () => {
            const newPara = document.createElement("p");
            newPara.innerText = `The stop time is ${startCount-1}`;
            resetValueElement.append(newPara);
        };

        
        // Function to clear time value
        const clearTimeValue = () => {
            resetValueElement.innerHTML = "";
        }


        // Event Listeners
        document.querySelector(".start_btn").addEventListener("click", startTimer);

        document.querySelector(".reset_btn").addEventListener("click", resetTimer);

        document.querySelector(".stop_btn").addEventListener("click", stopTimer);

        document.querySelector(".time_btn").addEventListener("click", showStopValue);

        document.querySelector(".clear_btn").addEventListener("click", clearTimeValue);


    </script>

</body>

</html>